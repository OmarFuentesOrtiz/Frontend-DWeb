<app-header [usuario_header_id]="usuario.id" [usuario_header_rol]="usuario.rol_name"></app-header>
<h2>Bienvenido {{usuario.rol_name}} {{usuario.name}} </h2>
<h2>Descubre los nuevos servicios</h2>

<section class="example-section">
<mat-checkbox class="example-margin" [(ngModel)]="checked" (click)="setCheck()">Buscar servicios en mi mismo idioma</mat-checkbox>
</section>

<div class="container">
    <div class="form-group">
        <label for="nombre">Ingresa el nombre del servicio:</label>
        <input matInput type="text" class="form-control" id="nombre" [(ngModel)]="value">
    </div>
    

    
    <div class="form-group">
      <label for="modalidad">Seleccione la modalidad</label>
      <select class="form-control" id="modalidad"
              required
              [(ngModel)]="selectedModalidad" name="modalidad.id"
              #power="ngModel">
        <option *ngFor="let pow of modalidades" [value]="pow.name ">{{pow.name}}</option>
      </select>
    </div>
    <div class="form-group">
        <label for="plataforma">Seleccione la plataforma</label>
        <select class="form-control" id="plataforma"
                required
                [(ngModel)]="selectedPlataforma" 
                #power="ngModel">
          <option *ngFor="let pow of plataformas" [value]="pow.name">{{pow.name}}</option>
        </select>
      </div>
      <div class="form-group">
        <label for="region">Seleccione la region</label>
        <select class="form-control" id="region"
                required
                [(ngModel)]="selectedRegion" 
                #power="ngModel">
          <option *ngFor="let pow of regiones" [value]="pow.name ">{{pow.name}}</option>
        </select>
      </div>
</div>

<div class="container">
    <div class="row">
        <div class="col-md-4" *ngFor="let servicio of this.servicios">
            <div *ngIf="serviciostarts(servicio) && servicioplataforma(servicio) && serviciomodalidad(servicio) 
            && servicioregion(servicio) ">
                <mat-card class="card-theme">
                    <mat-card-header>
                        <mat-card-title> {{servicio.name | uppercase }} </mat-card-title>
                    </mat-card-header>
                    <img mat-card-image class="imageCard" [src]="getImg(servicio.img)" alt="imagen del lugar">
                    <mat-card-content>
                        <p> Tags: {{servicio.region_name}} || {{servicio.modalidad_name}} || {{servicio.plataforma_name}} </p>
                    </mat-card-content>
                    <mat-card-actions>
<!--                        <a mat-button class="btn btn-danger" [routerLink]="['/','usuario', usuario?.id, 'anfitrion']" routerLinkActive='active'>Anfitriones</a>-->
                        <button mat-button [routerLink]="['/usuario', usuario?.id, 'detalleServicio', servicio.id]" class="btn btn-dark">Detalles</button>
                    </mat-card-actions>
                </mat-card>
            </div>
        </div>
    </div>
</div>
